[gd_scene load_steps=9 format=3 uid="uid://uoxqxlnund4b"]

[ext_resource type="PackedScene" uid="uid://31daujt3lhts" path="res://scenes/person.tscn" id="1_014kd"]
[ext_resource type="Script" uid="uid://cmhtdk12wkdnl" path="res://scenes/level_1.gd" id="1_bswci"]
[ext_resource type="Texture2D" uid="uid://cexmdllpkvl18" path="res://art/what.png" id="2_fcfvj"]
[ext_resource type="PackedScene" uid="uid://bx4o43qth1rfd" path="res://scenes/fire.tscn" id="4_5xbjy"]
[ext_resource type="PackedScene" uid="uid://hks6mc1xiqi1" path="res://scenes/tree_spawner.tscn" id="6_fcfvj"]
[ext_resource type="PackedScene" uid="uid://tixfnhbdtsps" path="res://scenes/enemy_spawner.tscn" id="6_pa8r4"]

[sub_resource type="Curve2D" id="Curve2D_4nkto"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 420, 420, 0, 0, 0, 0, 660, 420)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_fcfvj"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 560, 560, 0, 0, 0, 0, 740, 560)
}
point_count = 2

[node name="Level1" type="Node2D" node_paths=PackedStringArray("collision_node")]
script = ExtResource("1_bswci")
collision_node = NodePath("Collsion")
texture = ExtResource("2_fcfvj")

[node name="Person" parent="." instance=ExtResource("1_014kd")]
position = Vector2(206, 234)

[node name="Collsion" type="Node2D" parent="."]
modulate = Color(0.458405, 0.458405, 0.458405, 1)

[node name="StaticBody2D" type="StaticBody2D" parent="Collsion"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collsion/StaticBody2D"]
polygon = PackedVector2Array(-20, 660, -20, -20, 40, -20, 40, 560, 800, 560, 800, 520, 860, 520, 860, 440, 880, 440, 880, 560, 860, 560, 880, 560, 1100, 560, 1100, 40, 40, 40, 40, -20, 1100, -20, 1160, -20, 1160, 660)

[node name="StaticBody2D2" type="StaticBody2D" parent="Collsion"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collsion/StaticBody2D2"]
polygon = PackedVector2Array(160, 480, 740, 480, 800, 480, 740, 420, 360, 420, 360, 380, 320, 380, 320, 320, 160, 320)

[node name="StaticBody2D3" type="StaticBody2D" parent="Collsion"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collsion/StaticBody2D3"]
position = Vector2(60, 20)
polygon = PackedVector2Array(580, 240, 980, 240, 980, 100, 580, 100, 580, 160, 540, 160, 540, 200, 360, 200, 320, 240, 360, 240)

[node name="CharacterBody2D" parent="." instance=ExtResource("4_5xbjy")]
position = Vector2(600, 340)

[node name="TreeSpawner" parent="." instance=ExtResource("6_fcfvj")]

[node name="TreeSpawner2" parent="." instance=ExtResource("6_fcfvj")]
curve = SubResource("Curve2D_4nkto")

[node name="Sprite2D" parent="." instance=ExtResource("6_pa8r4")]
position = Vector2(109.732, 91.3911)

[node name="Sprite2D2" parent="." instance=ExtResource("6_pa8r4")]
position = Vector2(920, 340)

[node name="Sprite2D3" parent="." instance=ExtResource("6_pa8r4")]
position = Vector2(1040, 460)

[node name="Sprite2D4" parent="." instance=ExtResource("6_pa8r4")]
position = Vector2(100, 440)

[node name="EnemyTimer" type="Timer" parent="."]
autostart = true

[node name="LoseScreen" type="CanvasLayer" parent="."]
visible = false

[node name="Label" type="Label" parent="LoseScreen"]
offset_left = 260.0
offset_top = 80.0
offset_right = 834.0
offset_bottom = 217.0
theme_override_font_sizes/font_size = 100
text = "GAME OVER"

[node name="TryAgain" type="Button" parent="LoseScreen"]
offset_left = 420.0
offset_top = 220.0
offset_right = 660.0
offset_bottom = 300.0
text = "Try again"

[node name="WinScreen" type="CanvasLayer" parent="."]
visible = false

[node name="Label" type="Label" parent="WinScreen"]
offset_left = 240.0
offset_top = 120.0
offset_right = 868.0
offset_bottom = 257.0
theme_override_font_sizes/font_size = 100
text = "YOU WON!!!!!"

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Timer" type="Label" parent="CanvasLayer"]
offset_right = 68.0
offset_bottom = 55.0
theme_override_font_sizes/font_size = 40
text = "120"

[node name="LevelTimer" type="Timer" parent="."]
wait_time = 120.0
autostart = true

[node name="TreeSpawner3" parent="." instance=ExtResource("6_fcfvj")]
curve = SubResource("Curve2D_fcfvj")

[connection signal="killed" from="Person/HealthComponent" to="." method="_on_health_component_killed"]
[connection signal="killed" from="CharacterBody2D/HealthComponent" to="." method="_on_fireball_killed"]
[connection signal="timeout" from="EnemyTimer" to="." method="_on_enemy_timer_timeout"]
[connection signal="pressed" from="LoseScreen/TryAgain" to="." method="_on_try_again_pressed"]
[connection signal="timeout" from="LevelTimer" to="." method="_on_level_timer_timeout"]

[editable path="Person"]
[editable path="CharacterBody2D"]
